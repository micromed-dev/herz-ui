import{__assign as e}from"../../_virtual/_tslib.js";import{jsxs as t,jsx as o}from"theme-ui/jsx-runtime";import{useState as n,useMemo as r,useCallback as i}from"react";import a from"../Button/Button.js";import l from"../Select/Select.js";import{SelectOptionCustom as u}from"../Select/SelectOptionCustom.js";import{Rifm as d}from"rifm";import c from"../TextField/TextField.js";import{parse as f,isValid as m}from"date-fns";var h=function(e){var t=function(e){return(e.match(/\d+/g)||[]).join("")}(e);return t.split("").reduce((function(e,t,o){return 2===o||4===o?"".concat(e,"/").concat(t):"".concat(e).concat(t)}),"").slice(0,10)},s=function(t){return o(l.Option,e({},t))},v=function(e){var s=e.id,v=e.label,p=e.placeholder,g=e.value,x=e.defaultValue,C=e.disabled,b=void 0!==C&&C,y=e.onChange,F=e.highlightFilled,w=void 0===F||F,j=e.hideCustom,D=void 0!==j&&j,S=e.fullWidth,T=void 0!==S&&S,O=e.children,A=e.dateFormat,I=void 0===A?"MM/dd/yyyy":A,L=n(""),M=L[0],B=L[1],G=n(""),V=G[0],W=G[1],_=r((function(){if(!M)return!0;var e=f(M,I,new Date);return m(e)}),[I,M]),k=r((function(){if(!V)return!0;var e=f(V,I,new Date);return m(e)}),[I,V]),E=r((function(){var e=f(M,I,new Date),t=f(V,I,new Date);return!(!m(e)||!m(t)||e>t)}),[I,M,V]),H=n({to:"",from:""}),K=H[0],P=H[1],q=i((function(){B(K.from),W(K.to)}),[K.from,K.to]);return t(l,{id:s,label:v,placeholder:p,value:g,defaultValue:x,disabled:b,onChange:function(e){e&&(null==y||y(e))},highlightFilled:w,fullWidth:T,children:[O,!D&&o(u,{value:K,onHide:q,label:K.from===K.to?K.from:"".concat(K.from," - ").concat(K.to),children:function(e){var n=e.closeMenu,r=e.selectItem,i=function(){var e={from:M,to:V};P(e),r(e),null==y||y(e),n()};return o("form",{onSubmit:function(e){e.preventDefault(),i()},onKeyDown:function(e){"Enter"===e.key&&(e.stopPropagation(),i())},children:t("div",{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:"auto 1fr",alignItems:"center",width:180},children:[o("label",{htmlFor:"dateFrom",sx:{variant:"text.body1",color:"text.40",textAlign:"end"},children:"Inicial"}),o(d,{value:M,onChange:B,format:h,children:function(e){var t=e.onChange,n=e.value;return o(c,{id:"dateFrom",value:n,onChange:t,placeholder:I.toLowerCase(),state:_?"default":"error"})}}),o("label",{htmlFor:"dateTo",sx:{variant:"text.body1",color:"text.40",textAlign:"end"},children:"Final"}),o(d,{value:V,onChange:W,format:h,children:function(e){var t=e.onChange,n=e.value;return o(c,{id:"dateTo",value:n,onChange:t,placeholder:I.toLowerCase(),state:k?"default":"error"})}}),o(a,{type:"submit",variant:"filledLight",color:"secondary",sx:{gridColumn:"span 2"},disabled:!E,children:"Aplicar"})]})})}})]})};s.isSelectOption=!0,v.Option=s;export{v as default};
//# sourceMappingURL=DateSelect.js.map
