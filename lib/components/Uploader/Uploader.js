import{__rest as e,__assign as i}from"../../_virtual/_tslib.js";import{jsxs as t,jsx as r}from"theme-ui/jsx-runtime";import{Text as o,Flex as n}from"theme-ui";import{forwardRef as a,useState as l}from"react";import{useDropzone as s}from"react-dropzone";import"../Accordion/Accordion.js";import d from"../Icon/Icon.js";import"downshift";import c from"../Button/Button.js";import"tippy.js";import"react-dom";import"@tippyjs/react";import"../DateSelect/DateSelect.js";import"../DesktopModal/DesktopModal.js";import"../EditableField/Group/EditableFieldGroup.js";import"../EditableField/Select/EditableFieldSelect.js";import"../LinearProgress/LinearProgress.js";import"../MobileModal/MobileModal.js";import"../Radio/Radio.js";import"../Select/Select.js";import"../SubNavigationMenu/SubNavigationMenu.js";import"react-table";import"../TableFilters/TableFilters.js";import"../Tabs/Tabs.js";import"react/jsx-runtime";import"../../theme/theme.js";import"../ValuesList/ValuesList.js";var p={resting:{backgroundColor:"secondary.alpha.95"},hover:{backgroundColor:"secondary.90"}},m=a((function(a,m){var u=a.accept,f=void 0===u?"image/*":u,g=a.multiple,h=void 0!==g&&g,x=a.maxSize,b=void 0===x?1048576:x,v=a.name,j=void 0===v?"files":v,y=a.files,S=void 0===y?[]:y,w=a.onChange,C=a.children,D=a.showFiles,F=e(a,["accept","multiple","maxSize","name","files","onChange","children","showFiles"]),k=l(!1),z=k[0],M=k[1],I=s(i(i({accept:f,multiple:h,maxSize:b},F),{onDrop:function(e){var i=h?S.concat(e):e;null==w||w(i)}})),R=I.isDragActive,T=I.isDragReject,A=I.getRootProps,E=I.getInputProps;function L(e){var i=e.currentTarget.dataset.index;if(i){var t=S.filter((function(e,t){return t!==Number(i)}));null==w||w(t)}}return t("div",{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",maxWidth:"460px",textAlign:"center"},children:[t("div",i({sx:i(i({width:"100%",paddingY:4,paddingX:6,border:"1px dashed",borderColor:"secondary.40",borderRadius:" 12px",cursor:"pointer",transition:"all .2s linear"},p[R?"hover":"resting"]),{"&:hover":i({},p.hover)})},A({className:"dropzone"}),{children:[r("input",i({type:"file",name:j,ref:m,title:"Drag & Drop or browse a file"},E())),C]})),T&&r(o,{children:"File type not accepted, sorry!"}),D&&S.length>0&&t(n,{sx:{justifyContent:"space-between",alignItems:"center",alignSelf:"stretch",marginTop:3,marginBottom:2},children:[t(o,{sx:{color:"text.40",fontSize:13},children:[S.length," files selected"]}),r(c,{variant:"plain",color:"secondary",onClick:function(){return M((function(e){return!e}))},children:z?"Hide files":"View & manage files"})]}),D&&r("div",{sx:{display:"grid",opacity:z?1:0,visibility:z?"visible":"hidden",maxHeight:z?"9999px":0,gridTemplateColumns:"1fr 1fr",gap:2,alignSelf:"stretch",transition:"all.2s"},children:S.map((function(e,i){var o=e.name;return t(n,{sx:{paddingX:3,paddingY:2,borderRadius:2,alignItems:"center",justifyContent:"space-between",backgroundColor:"secondary.alpha.95"},children:[r("span",{sx:{fontSize:13,color:"secondary",textOverflow:"ellipsis",verticalAlign:"middle",overflow:"hidden",whiteSpace:"nowrap"},children:o}),r("button",{sx:{display:"inline-flex",ml:2,cursor:"pointer",background:"none",border:"none",padding:0},"data-index":i,title:"Remove file",onClick:L,children:r(d,{sx:{color:"text.40",pointerEvents:"none"},name:"IconX",size:16})})]},i)}))})]})}));export{m as default};
//# sourceMappingURL=Uploader.js.map
