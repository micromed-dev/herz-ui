import{jsx as e,jsxs as n}from"theme-ui/jsx-runtime";import r,{useState as i,useCallback as o}from"react";import t from"../Icon/Icon.js";import a from"../Divider/Divider.js";import{AccordionContext as c,useAccordionContext as d}from"./context.js";import{AnimatePresence as l,motion as s}from"framer-motion";import{get as m}from"theme-ui";var u=function(n){var t,d,l=n.children,s=n.initialOpenIndex,m=n.activeBackgroundColor,u=void 0===m?"secondary":m,p=n.className,f=i(s),h=f[0],v=f[1],x=o((function(e){v(h===e?void 0:e)}),[h]),g=r.Children.toArray(l).filter((function(e){return r.isValidElement(e)})).map((function(n,r){return e(c.Provider,{value:{index:r,toggleOpen:x,openIndex:h,activeBackgroundColor:u},children:n},r)}));return e("div",{className:p,children:(t=g,d=[],t.forEach((function(n,r){r<t.length-1?d=d.concat(n,e(a,{"aria-hidden":!0},"divider-".concat(r))):d.push(n)})),d)})};u.Item=function(r){var i=r.title,o=r.children,a=r.className,c=d(),u=c.index,p=c.toggleOpen,f=c.openIndex,h=c.activeBackgroundColor,v=f===u;return n("div",{sx:{backgroundColor:function(e){return v?m(e,"colors.".concat(h,".97")):"transparent"},transition:"background-color 150ms linear"},children:[n("div",{role:"button","aria-disabled":"false","aria-expanded":v,sx:{display:"flex",justifyContent:"space-between",px:6,py:3,variant:"text.body1",color:"text.40",cursor:"pointer"},onClick:function(){return p(u)},children:[e("span",{children:i}),e(t,{name:"IconChevronDown",sx:{transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",transform:v?"rotate(180deg)":"rotate(0deg)"}})]}),e(l,{initial:!1,children:v&&e(s.section,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{height:"auto"},collapsed:{height:0,overflow:"hidden"}},transition:{duration:.6,ease:[.16,1,.3,1]},children:e("div",{sx:{px:6,pb:4},className:a,children:o})})})]})};export{u as default};
//# sourceMappingURL=Accordion.js.map
