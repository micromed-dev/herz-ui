import{__rest as r,__assign as e}from"../../_virtual/_tslib.js";import{jsx as o,jsxs as t}from"theme-ui/jsx-runtime";import{get as a}from"theme-ui";import{forwardRef as i,useRef as n,useContext as l,useState as d,useMemo as s,useImperativeHandle as u,useEffect as c}from"react";import p from"../Icon/Icon.js";import{InputGroupContext as x}from"../InputGroup/Context.js";function h(r){r&&r.scrollHeight&&(r.style.height="auto",r.style.height="".concat(r.scrollHeight,"px"))}var f=i((function(i,f){var b=i.id,m=i.type,v=void 0===m?"text":m,g=i.value,y=i.onChange,C=i.onBlur,w=i.placeholder,k=i.disabled,B=void 0!==k&&k,I=i.state,R=void 0===I?"default":I,j=i.required,z=void 0!==j&&j,F=i.iconName,N=i.unit,q=i.className,E=i.style,G=i.multiline,L=void 0!==G&&G,O=i.autoExpand,T=void 0===O||O,H=i.rows,W=void 0===H?1:H,_=i.cols,S=i.readOnly,X=r(i,["id","type","value","onChange","onBlur","placeholder","disabled","state","required","iconName","unit","className","style","multiline","autoExpand","rows","cols","readOnly"]),Y=n(null),A=l(x),D=!!A,J=d(!1),K=J[0],M=J[1],P=s((function(){return"password"===v?K?"text":"password":v}),[K,v]);return u(f,(function(){return Y.current})),c((function(){h(null==Y?void 0:Y.current)}),[]),o("div",{sx:e({flexGrow:1},D&&e({},!(null==A?void 0:A.isLast)&&{borderRight:"1px solid",borderColor:"text.90"})),children:t("div",{sx:e(e(e(e(e(e({display:"flex",width:"100%",alignItems:"center",gap:2,paddingY:"6px",paddingX:3},{default:{backgroundColor:g?"secondary.alpha.90":"text.alpha.95"},success:{backgroundColor:"success.alpha.95"},error:{backgroundColor:"primary.alpha.95"}}[R]),{outline:0,borderRadius:2,border:"2px solid transparent"}),D&&e(e({},!(null==A?void 0:A.isFirst)&&{borderTopLeftRadius:0,borderBottomLeftRadius:0}),!(null==A?void 0:A.isLast)&&{borderTopRightRadius:0,borderBottomRightRadius:0})),{transition:"all 0.2s","&:hover":e({},"default"===R&&{backgroundColor:g?"secondary.alpha.85":"text.alpha.90"})}),{default:{},success:{borderColor:"success"},error:{borderColor:"primary"}}[R]),!S&&{"&:focus-within":{borderColor:"secondary",boxShadow:function(r){return"0px 0px 0px 4px ".concat(a(r,"colors.secondary.alpha.90"))},backgroundColor:"#FFF"}}),className:q,style:E,children:[L?o("textarea",e({id:b,ref:Y,required:z,placeholder:w,value:g,disabled:B,rows:W,cols:_,onChange:y,onBlur:C,onInput:T?function(r){return h(r.currentTarget)}:void 0,"aria-invalid":"error"===R,size:1},X,{sx:{backgroundColor:"transparent",border:"none",color:"text",flexGrow:1,outline:0,p:0,resize:"none",variant:"text.body1",width:"100%","&:-webkit-autofill":{WebkitBackgroundClip:"text"}}})):o("input",e({id:b,type:P,ref:Y,required:z,placeholder:w,value:g,disabled:B,onChange:y,onBlur:C,"aria-invalid":"error"===R,readOnly:S,size:1},X,{sx:{width:"100%",flexGrow:1,outline:0,backgroundColor:"transparent",border:"none",p:0,color:"text",variant:"text.body1","&:-webkit-autofill":{WebkitBackgroundClip:"text"}}})),N&&o("label",{htmlFor:b,sx:{display:"flex",justifyContent:"center",alignItems:"center",color:"text.40"},children:N}),F&&o(p,{name:F,size:16,sx:{color:"text.40"}}),"password"===v&&o("div",{onClick:function(){return M((function(r){return!r}))},sx:{display:"flex",color:K?"secondary":"text.40",cursor:"pointer"},children:o(p,{name:K?"IconEye":"IconEyeOff",size:16})})]})})}));export{h as autoExpander,f as default};
//# sourceMappingURL=Input.js.map
