import{__assign as e}from"../../../_virtual/_tslib.js";import{useMultipleSelection as t,useSelect as n}from"downshift";var s;function o(o){var a=o.options,i=void 0===a?[]:a,u=o.multi,c=o.value,r=o.selectedItems,l=void 0===r?[]:r,g=o.onChange,p=o.onSelectedItemsChange,h=o.isOpen,d=o.onIsOpenChange,m=function(e){var t=l.filter((function(t){return!e.includes(t)}));null==p||p(t)},C=function(e){var t=l.concat(e);null==p||p(t)},I=t({selectedItems:l}).getDropdownProps,v=n(e({isOpen:h,onIsOpenChange:d,items:i.map((function(e){return e.value})),selectedItem:u?null:c},u?{stateReducer:function(t,s){var o=s.changes;switch(s.type){case n.stateChangeTypes.MenuKeyDownEnter:case n.stateChangeTypes.MenuKeyDownSpaceButton:case n.stateChangeTypes.ItemClick:case n.stateChangeTypes.FunctionSelectItem:return e(e({},o),{isOpen:!0,highlightedIndex:t.highlightedIndex})}return o},onStateChange:function(e){var t=e.type,s=e.selectedItem;switch(t){case n.stateChangeTypes.MenuKeyDownEnter:case n.stateChangeTypes.MenuKeyDownSpaceButton:case n.stateChangeTypes.ItemClick:if(s)l.includes(s)?m([s]):C([s])}}}:{stateReducer:function(e,t){var s,o,a=t.changes;switch(t.type){case n.stateChangeTypes.MenuKeyDownEnter:case n.stateChangeTypes.MenuKeyDownSpaceButton:case n.stateChangeTypes.MenuMouseLeave:case n.stateChangeTypes.ItemClick:var u=i.findIndex((function(e){var t=e.value;return JSON.stringify(t)===JSON.stringify(a.selectedItem)}));if((null===(s=i[u])||void 0===s?void 0:s.isCustom)||(null===(o=i[e.highlightedIndex])||void 0===o?void 0:o.isCustom))return e}return a},onSelectedItemChange:function(e){var t=e.selectedItem;(t||0===t)&&(null==g||g(t))}}));return{isOpen:v.isOpen,selectedItem:v.selectedItem,getToggleButtonProps:v.getToggleButtonProps,getLabelProps:v.getLabelProps,getMenuProps:v.getMenuProps,highlightedIndex:v.highlightedIndex,getItemProps:v.getItemProps,getDropdownProps:I,handleBulkAction:function(e){void 0===e&&(e=s.SELECT_ALL),e===s.SELECT_ALL?C(i.map((function(e){return e.value}))):m(l)},selectItem:v.selectItem,closeMenu:v.closeMenu,openMenu:v.openMenu}}!function(e){e[e.DESELECT_ALL=0]="DESELECT_ALL",e[e.SELECT_ALL=1]="SELECT_ALL"}(s||(s={}));export{s as SELECT_BULK_ACTIONS,o as useSelect};
//# sourceMappingURL=useSelect.js.map
