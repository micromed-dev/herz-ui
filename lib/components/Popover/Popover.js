import{__assign as t}from"../../_virtual/_tslib.js";import{jsxs as e,jsx as o}from"theme-ui/jsx-runtime";import i,{useState as r,useRef as a,useCallback as n}from"react";import{roundArrow as d}from"tippy.js";import p from"react-dom";import{ssrSafeCreateDiv as s}from"../../helpers/ssr.js";import c from"./LazyTippy.js";var l=function(l){var m=l.alwaysRenderContent,f=void 0!==m&&m,v=l.content,u=l.children,h=l.placement,g=void 0===h?"auto":h,y=l.trigger,x=void 0===y?["mouseenter","focus"]:y,b=l.appendTo,w=l.theme,k=void 0===w?"light":w,C=l.borderRadius,O=void 0===C?4:C,z=l.contentStyle,I=l.boxStyle,j=l.isVisible,S=l.noPadding,W=void 0!==S&&S,P=l.isInteractive,R=void 0!==P&&P,T=l.hasArrow,A=void 0!==T&&T,B=l.hasBackgroundOverlay,H=void 0!==B&&B,M=l.hideOnClick,_=void 0!==M&&M,E=l.onClickOutside,F=l.onHide,L=l.onShow,V=l.onCreate,q=l.zIndexPopper,D=void 0===q?9e3:q,G=l.zIndexOverlay,J=void 0===G?8e3:G,K=r(!1),N=K[0],Q=K[1],U=a(s()),X=void 0!==j,Y=n((function(t){var e=t.popper,o=t.placement,i=2*(O+2);return o.startsWith("left")||o.startsWith("right")?Math.min((e.height-16)/2,i):o.startsWith("top")||o.startsWith("bottom")?Math.min((e.width-16)/2,i):i}),[O]);return e(i.Fragment,{children:[o(c,t({alwaysRenderContent:f,content:v,theme:k,visible:j,interactive:R,arrow:A&&d,hideOnClick:X?void 0:_,trigger:X?void 0:x.join(" "),placement:g,interactiveBorder:16,zIndex:D,onClickOutside:function(t,e){return null==E?void 0:E(t,e)},onCreate:V,onShow:function(t){Q(!0),U.current&&document.body.append(U.current),null==L||L(t)},onHide:function(t){Q(!1),setTimeout((function(){U.current&&U.current.remove()})),null==F||F(t)}},b?{appendTo:b}:{},{popperOptions:{modifiers:[{name:"arrow",options:{padding:Y}}]},sx:{"&&":t(t(t({maxWidth:"none !important",position:"relative",outline:0,transitionProperty:"transform,visibility,opacity",borderRadius:O,boxShadow:"dark",".tippy-content":t(t({position:"relative"},W?{padding:0}:{py:1,px:2}),z),"&[data-animation=fade][data-state=hidden]":{opacity:0}},{".tippy-svg-arrow":{width:16,height:16,textAlign:"initial","& > svg":{position:"absolute"}},"&[data-placement^='top'] > .tippy-svg-arrow":{bottom:0,"& > svg":{top:"16px",transform:"rotate(180deg) scale(1.2, 1.5)"}},"&[data-placement^='bottom'] > .tippy-svg-arrow":{top:0,"& > svg":{bottom:"16px",transform:"scale(1.2, 1.5)"}},"&[data-placement^='left'] > .tippy-svg-arrow":{right:0,"& > svg":{left:"11px",top:"calc(50% - 3px)",transform:"rotate(90deg) scale(1.1, 1.6)"}},"&[data-placement^='right'] > .tippy-svg-arrow":{left:0,"& > svg":{right:"11px",top:"calc(50% - 3px)",transform:"rotate(-90deg) scale(1.1, 1.6)"}}}),{"&[data-theme~='light']":{backgroundColor:"#fff",color:"text","& > .tippy-svg-arrow":{fill:"#fff"}},"&[data-theme~='dark']":{backgroundColor:"text",color:"#fff","& > .tippy-svg-arrow":{fill:"text"}}}),I)},children:u})),H&&U.current?p.createPortal(o("div",{sx:{"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}},"@keyframes fadeOut":{"0%":{opacity:1},"100%":{opacity:0}},animation:N?"0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards fadeIn":"0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards fadeOut",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.6)",pointerEvents:"none",zIndex:J}}),U.current):void 0]})};export{l as default};
//# sourceMappingURL=Popover.js.map
