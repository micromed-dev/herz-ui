import{__assign as o}from"../../_virtual/_tslib.js";import{jsxs as e,jsx as t}from"theme-ui/jsx-runtime";import{useState as i,cloneElement as r,useEffect as n,useMemo as l}from"react";import{jsx as a}from"theme-ui";import d from"../Button/Button.js";import{SubNavigationMenuContext as s,useSubNavigationMenu as p}from"./Context.js";var c=function(n){var l=n.children,a=n.collapsedHidden,p=void 0===a||a,c=n.collapsedWidth,u=void 0===c?16:c,f=n.collapsible,m=void 0===f||f,h=n.onCollapseButtonClick,b=n.onCollapseButtonHover,v=n.styles,x=n.width,g=void 0===x?164:x,w=i(!1),y=w[0],C=w[1];return e("nav",{sx:o({backgroundColor:"transparent",position:"relative"},null==v?void 0:v.root),children:[t(s.Provider,{value:{collapsedHidden:p,isCollapsed:y},children:t("ul",{sx:o(o({backgroundColor:"transparent",borderColor:"text.90",display:"flex",gap:2,flexDirection:"column",flexGrow:1,flexWrap:"nowrap",listStyle:"none",margin:0,minHeight:"100%",overflowX:"hidden",overflowY:"auto",paddingInlineStart:6,transition:"opacity, width 0.6s cubic-bezier(0.16, 1, 0.3, 1)"},{default:{width:g},collapsed:{paddingInlineEnd:p?0:6,paddingInlineStart:p?0:6,opacity:p?0:1,width:u}}[y?"collapsed":"default"]),null==v?void 0:v.list),children:l.map((function(e){return r(e,o(o({},e.props),{isCollapsed:y}))}))})}),m&&t(d,{"aria-label":"toggle-collapse-navigation",color:"text",iconName:"IconArrowBarLeft",onClick:function(){null==h||h(!y),C(!y)},onMouseEnter:function(){null==b||b(!0)},onMouseLeave:function(){null==b||b(!1)},size:"small",styles:{icon:{transform:y?"scale(-1, 1)":"scale(1, 1)",transition:"transform 0.6s cubic-bezier(0.16, 1, 0.3, 1)"}},sx:{backgroundColor:"#ffffff",boxShadow:"dark",padding:"6px",position:"absolute",right:"-14px",top:"calc(50% - 14px)","&:hover":{color:"secondary"}},variant:"filled"})]})};c.MenuItem=function(e){var i=e.children,r=e.collapsedItem,d=e.onClick,s=e.selected,c=e.styles,u=p();if(null===u)throw"<SubNavigationMenu.MenuItem> needs to be inside a <SubNavigationMenu> component";var f=u.collapsedHidden,m=u.isCollapsed;n((function(){f||typeof i==typeof r||console.warn("You must be consistent with the properties of children and the collapsed item, both strings or both elements")}),[i,f,r]);var h=l((function(){var e=o({py:2,whiteSpace:"nowrap",width:"100%",wordWrap:"initial"},{default:{paddingLeft:3,paddingRight:9},collapsed:{px:2,textAlign:"center"}}[m?"collapsed":"default"]),n=m&&!f?r:i;return"string"==typeof n?t("span",{sx:e,children:n}):a(n.type,o(o({},n.props),{sx:o(o({},e),n.props.sx)}))}),[i,f,r,m]);return t("li",{onClick:d,sx:o(o(o({},null==c?void 0:c.root),{backgroundColor:s?"primary.alpha.90":void 0,color:s?"primary":"text.40",cursor:"pointer",display:"flex",transition:"0.6s cubic-bezier(0.16, 1, 0.3, 1)",transitionProperty:"background-color, color, padding, width",variant:s?"text.button1":"text.body1","&:hover":{backgroundColor:s?void 0:"text.90"},"& > a":{color:"inherit",textDecoration:"none"}}),{default:{borderTopLeftRadius:2,borderBottomLeftRadius:2,"&:after":s?{content:'""',backgroundColor:"primary",borderTopLeftRadius:1,borderBottomLeftRadius:1,width:4}:void 0},collapsed:{borderRadius:2}}[m?"collapsed":"default"]),children:h})};export{c as default};
//# sourceMappingURL=SubNavigationMenu.js.map
